<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'ru' }}">

{% include head.html %}

<body>
  {% include navigation.html %}
  
  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      <article class="post">
        {% if page.title %}
        <header class="post-header">
          <h1 class="post-title">{{ page.title | escape }}</h1>
          {% if page.description %}
          <p class="post-description">{{ page.description }}</p>
          {% endif %}
        </header>
        {% endif %}

        <div class="post-content">
          {{ content }}
        </div>
        
        <!-- Table of Contents для длинных страниц -->
        {% if page.toc %}
        <aside class="toc-sidebar">
          <h3>Содержание</h3>
          <div id="toc"></div>
        </aside>
        {% endif %}
      </article>
      
      <!-- Навигация между страницами -->
      <nav class="page-navigation">
        {% if page.prev_page %}
        <div class="nav-prev">
          <a href="{{ page.prev_page.url | relative_url }}" class="nav-link">
            <span class="nav-direction">← Предыдущая</span>
            <span class="nav-title">{{ page.prev_page.title }}</span>
          </a>
        </div>
        {% endif %}
        
        {% if page.next_page %}
        <div class="nav-next">
          <a href="{{ page.next_page.url | relative_url }}" class="nav-link">
            <span class="nav-direction">Следующая →</span>
            <span class="nav-title">{{ page.next_page.title }}</span>
          </a>
        </div>
        {% endif %}
      </nav>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="wrapper">
      <div class="footer-content">
        <div class="footer-section">
          <h4>LiteLLM GigaChat Integration</h4>
          <p>Полная интеграция российской языковой модели Сбер GigaChat с экосистемой LiteLLM</p>
          <div class="social-links">
            <a href="https://github.com/stp008/litellm-gigachat" target="_blank" rel="noopener" aria-label="GitHub">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
            </a>
          </div>
        </div>
        
        <div class="footer-section">
          <h4>Документация</h4>
          <ul>
            <li><a href="{{ '/README.html' | relative_url }}">Полное руководство</a></li>
            <li><a href="{{ '/FAQ.html' | relative_url }}">FAQ</a></li>
            <li><a href="{{ '/GIGACHAT_COMPATIBILITY.html' | relative_url }}">Совместимость API</a></li>
            <li><a href="{{ '/TEST_REQUESTS.html' | relative_url }}">Примеры запросов</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Поддержка</h4>
          <ul>
            <li><a href="https://github.com/stp008/litellm-gigachat/issues" target="_blank" rel="noopener">Сообщить о проблеме</a></li>
            <li><a href="https://github.com/stp008/litellm-gigachat/discussions" target="_blank" rel="noopener">Обсуждения</a></li>
            <li><a href="{{ '/CONTRIBUTING.html' | relative_url }}">Участие в проекте</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Ресурсы</h4>
          <ul>
            <li><a href="https://developers.sber.ru/portal/products/gigachat-api" target="_blank" rel="noopener">GigaChat API</a></li>
            <li><a href="https://docs.litellm.ai/" target="_blank" rel="noopener">LiteLLM документация</a></li>
            <li><a href="https://github.com/cline/cline" target="_blank" rel="noopener">Cline AI Assistant</a></li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="footer-info">
          <p>&copy; 2025 LiteLLM GigaChat Integration. Лицензия MIT.</p>
          <p>Создано с ❤️ для российского AI-сообщества</p>
        </div>
        <div class="footer-meta">
          <p>Последнее обновление: {{ site.time | date: "%d.%m.%Y" }}</p>
          <p>Версия документации: 1.2.0</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Кнопка "Наверх" -->
  <button id="back-to-top" class="back-to-top" aria-label="Наверх">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="18,15 12,9 6,15"></polyline>
    </svg>
  </button>

  <style>
    /* Основные стили страницы */
    .wrapper {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .page-content {
      padding: 40px 0;
      min-height: calc(100vh - 200px);
    }

    .post-header {
      margin-bottom: 40px;
      text-align: center;
      border-bottom: 1px solid #e1e4e8;
      padding-bottom: 20px;
    }

    .post-title {
      font-size: 2.5em;
      font-weight: 700;
      color: #24292e;
      margin: 0 0 10px 0;
    }

    .post-description {
      font-size: 1.2em;
      color: #6a737d;
      margin: 0;
      font-style: italic;
    }

    .post-content {
      line-height: 1.6;
      color: #24292e;
    }

    /* Навигация между страницами */
    .page-navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 60px;
      padding-top: 20px;
      border-top: 1px solid #e1e4e8;
    }

    .nav-link {
      display: flex;
      flex-direction: column;
      text-decoration: none;
      color: #0366d6;
      padding: 15px;
      border: 1px solid #e1e4e8;
      border-radius: 8px;
      transition: all 0.2s;
      max-width: 300px;
    }

    .nav-link:hover {
      border-color: #0366d6;
      box-shadow: 0 2px 4px rgba(3, 102, 214, 0.1);
    }

    .nav-direction {
      font-size: 0.9em;
      color: #6a737d;
      margin-bottom: 5px;
    }

    .nav-title {
      font-weight: 600;
    }

    .nav-next {
      text-align: right;
    }

    /* Footer стили */
    .site-footer {
      background: #24292e;
      color: #d1d5da;
      padding: 40px 0 20px;
      margin-top: 60px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      margin-bottom: 40px;
    }

    .footer-section h4 {
      color: #f6f8fa;
      margin: 0 0 15px 0;
      font-size: 1.1em;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-section li {
      margin: 8px 0;
    }

    .footer-section a {
      color: #d1d5da;
      text-decoration: none;
      transition: color 0.2s;
    }

    .footer-section a:hover {
      color: #58a6ff;
    }

    .social-links {
      margin-top: 15px;
    }

    .social-links a {
      display: inline-block;
      margin-right: 10px;
      padding: 8px;
      border-radius: 4px;
      transition: background-color 0.2s;
    }

    .social-links a:hover {
      background-color: #30363d;
    }

    .footer-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 20px;
      border-top: 1px solid #30363d;
      font-size: 0.9em;
    }

    .footer-info p, .footer-meta p {
      margin: 5px 0;
    }

    /* Кнопка "Наверх" */
    .back-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: #0366d6;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
      z-index: 1000;
    }

    .back-to-top.visible {
      opacity: 1;
      visibility: visible;
    }

    .back-to-top:hover {
      background: #0256cc;
      transform: translateY(-2px);
    }

    /* Адаптивность */
    @media (max-width: 768px) {
      .wrapper {
        padding: 0 15px;
      }

      .post-title {
        font-size: 2em;
      }

      .page-navigation {
        flex-direction: column;
        gap: 15px;
      }

      .nav-next {
        text-align: left;
      }

      .footer-bottom {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }

      .back-to-top {
        bottom: 20px;
        right: 20px;
        width: 45px;
        height: 45px;
      }
    }
  </style>

  <script>
    // Кнопка "Наверх"
    document.addEventListener('DOMContentLoaded', function() {
      const backToTop = document.getElementById('back-to-top');
      
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });
      
      backToTop.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    });

    // Автоматическое создание оглавления
    document.addEventListener('DOMContentLoaded', function() {
      const tocContainer = document.getElementById('toc');
      if (tocContainer) {
        const headings = document.querySelectorAll('h2, h3, h4');
        if (headings.length > 0) {
          const tocList = document.createElement('ul');
          
          headings.forEach(function(heading, index) {
            const id = 'heading-' + index;
            heading.id = id;
            
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = '#' + id;
            link.textContent = heading.textContent;
            link.className = 'toc-' + heading.tagName.toLowerCase();
            
            listItem.appendChild(link);
            tocList.appendChild(listItem);
          });
          
          tocContainer.appendChild(tocList);
        }
      }
    });
  </script>
</body>
</html>
